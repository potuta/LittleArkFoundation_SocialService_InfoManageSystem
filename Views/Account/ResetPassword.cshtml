@{
    ViewData["Title"] = "Reset Password";
    Layout = "_LoginLayout";
}

@* <h1>Reset Password</h1>

<form id="resetPasswordForm" asp-action="ResetPassword" asp-controller="Account" method="post" onsubmit="return validatePassword()">
    @Html.AntiForgeryToken()
    <div class="mb-3">
        <label for="userID" class="form-label">UserID:</label>
        <input type="text" class="form-control" id="userID" name="userID" value="@ViewBag.UserID" readonly/>
    </div>
    <div class="mb-3">
        <label for="newPassword" class="form-label">New Password:</label>
        <input type="password" class="form-control" id="newPassword" name="newPassword" required>
    </div>
    <div class="mb-3">
        <label for="confirmPassword" class="form-label">Confirm Password:</label>
        <input type="password" class="form-control" id="confirmPassword" required>
    </div>
    <p id="confirmPasswordMessage"></p>

    <button type="submit" class="btn btn-primary" id="submitButton">Reset Password</button>
</form> *@

<div class="form-box">
    <!-- Reset Password Form -->
    <div id="resetPasswordForm">
        <h2>Reset Password</h2>
        <form asp-action="ResetPassword" asp-controller="Account" method="post" onsubmit="return validatePassword()">
            @Html.AntiForgeryToken()
            <div class="mb-3">
                <label for="resetUserIdConfirm" class="form-label">User ID</label>
                <input type="number" class="form-control readonly-input" id="resetUserIdConfirm" name="userID" value="@ViewBag.UserID" readonly>
            </div>
            <div class="mb-3">
                <label for="newPassword" class="form-label">New Password</label>
                <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="Enter new password" required>
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm new password" required>
            </div>
            <p id="confirmPasswordMessage"></p>

            <button type="submit" class="btn btn-primary">Confirm Reset</button>
        </form>
    </div>
</div>

<script>
    function validatePassword(event) {
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        if (newPassword !== confirmPassword) {
            // alert("Passwords do not match!");
            // showCustomAlert("Message", "Passwords do not match!");
            document.getElementById("confirmPasswordMessage").textContent = "Passwords do not match!";
            document.getElementById("confirmPasswordMessage").style.color = "red";
            return false;
        }
        return true;
    }
</script>


